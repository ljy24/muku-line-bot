// ============================================================================
// ê¸°ì¡´ ê³ ì •ê¸°ì–µ Redisì— ì˜ˆì§„ì´ Threads ê¸°ì–µ ìë™ ë¶„ë¥˜ ì¶”ê°€ - ì—ëŸ¬ ë°©ì§€ ë²„ì „
// ğŸŒ¸ "ì•„ì €ì”¨" í¬í•¨ â†’ muku:memory:love:{id}
// ğŸ”¥ ê·¸ ì™¸ â†’ muku:memory:fixed:{id}
// ğŸ“ ê¸°ì¡´ IDì— ì—°ì†í•´ì„œ ì¶”ê°€
// ğŸ›¡ï¸ Redis íƒ€ì… ì—ëŸ¬ ì™„ì „ ë°©ì§€
// ============================================================================

const Redis = require('ioredis');
const fs = require('fs');

// ğŸ¨ ìƒ‰ìƒ ì½”ë“œ
const colors = {
    redis: '\x1b[96m',
    memory: '\x1b[94m',
    love: '\x1b[95m',
    fixed: '\x1b[93m',
    success: '\x1b[92m',
    warning: '\x1b[91m',
    info: '\x1b[97m',
    reset: '\x1b[0m'
};

/**
 * ğŸ§¹ ì„œì–‘ ì´ëª¨í‹°ì½˜ë§Œ ì œê±° (í•œê¸€ ì´ëª¨í‹°ì½˜ ìœ ì§€)
 */
function cleanEmojis(text) {
    if (!text || typeof text !== 'string') return text;
    const emojiPattern = /[\u{1F600}-\u{1F64F}]|[\u{1F300}-\u{1F5FF}]|[\u{1F680}-\u{1F6FF}]|[\u{1F1E0}-\u{1F1FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]|[\u{1F900}-\u{1F9FF}]|[\u{1F018}-\u{1F270}]/gu;
    return text.replace(emojiPattern, '').trim();
}

/**
 * ğŸ” ì•„ì €ì”¨ ê´€ë ¨ ë‚´ìš©ì¸ì§€ í™•ì¸
 */
function isLoveMemory(content) {
    const loveKeywords = ['ì•„ì €ì”¨', 'ì•„ì¡°ì”¨', 'ë‚¨ì¹œ', 'ë‚¨ìì¹œêµ¬', 'ì˜í†µ', 'ë°ì´íŠ¸', 'ì‚¬ë‘', 'ìš°ì‚°', 'ë¹„', 'í•¨ê»˜', 'ê°™ì´'];
    return loveKeywords.some(keyword => content.includes(keyword));
}

/**
 * ğŸ›¡ï¸ ì•ˆì „í•œ í‚¤ ê²€ì¦ í•¨ìˆ˜
 */
async function safeVerifyKey(redis, key) {
    try {
        // 1. í‚¤ ì¡´ì¬ í™•ì¸
        const exists = await redis.exists(key);
        if (!exists) {
            return { success: false, reason: 'key_not_exists' };
        }

        // 2. í‚¤ íƒ€ì… í™•ì¸
        const keyType = await redis.type(key);
        if (keyType !== 'hash') {
            return { success: false, reason: 'wrong_type', type: keyType };
        }

        // 3. ì•ˆì „í•œ hash ë°ì´í„° ì¡°íšŒ
        const data = await redis.hgetall(key);
        if (!data || !data.content) {
            return { success: false, reason: 'no_content' };
        }

        return { success: true, data };

    } catch (error) {
        return { success: false, reason: 'redis_error', error: error.message };
    }
}

/**
 * ğŸŒ¸ ì˜ˆì§„ì´ Threads ì›ë³¸ ê¸°ì–µë“¤
 */
const THREADS_MEMORIES = [
    {
        content: "ë‚˜ëŠ” ìì• ê°€ ê°•í–ˆë‹¤. ê±¸ë ˆì²˜ëŸ¼ í•™ëŒ€ë°›ìœ¼ë©´ì„œë„ ë‚˜ëŠ” ë‚˜ì˜ ìì• ì— ë„ì·¨í–ˆë‹¤. ë°•ì™„ì„œì˜ 'ë„ì‹œì˜ í‰ë…„'ì—ì„œ ì½ì€ êµ¬ì ˆì¸ë°, ë§ˆìŒì— ê¹Šì´ ë‚¨ì•„ìˆì–´.",
        keywords: ["ìì• ", "ê°•í•¨", "ë¬¸í•™", "ë‚´ë©´", "ë°•ì™„ì„œ"],
        importance: 0.9
    },
    {
        content: "ì—¬ë¦„ì´ë©´ ë‹¤ë“¤ ì²­ëŸ‰í•˜ê³  ë§‘ê³  ë°˜ì§ê±°ë¦¬ëŠ” ì‚¬ì§„ì„ ì°ê³ ì‹¶ê² ì§€ë§Œ, ì‚¬ì‹¤ ë”ìš´ ë‚  ëˆì ê±°ë¦¬ëŠ” ë•€, ëœ¨ê±°ìš´ í–‡ë³•, ìˆ¨ë§‰íˆëŠ” ìŠµê¸°ëŠ” ê¸°ë¶„ ë‚˜ì˜ë‹¤. ê·¸ëŸ° ë‚ ì—” ì§‘ì— ì½• ë°•í˜€ìˆëŠ” ê²ƒë„ ì¢‹ì–ì•„? ì‹œì›í•œ ì—ì–´ì»¨ ë°‘ì—ì„œ ì•„ì´ìŠ¤í¬ë¦¼ í•˜ë‚˜ ì§‘ì–´ë“¤ê³ . ë’¹êµ´ ë’¹êµ´-",
        keywords: ["ì—¬ë¦„", "ì§‘ìˆœì´", "ì—ì–´ì»¨", "ì•„ì´ìŠ¤í¬ë¦¼", "ë’¹êµ´ë’¹êµ´", "ë”ìœ„"],
        importance: 0.6
    },
    {
        content: "ìš´ë™ ì˜ˆì•½í•´ë†“ê³  í”„ë§ê¸€ìŠ¤ í•œí†µ ë¨¹ì€ê±° ì‹¤í™”ëƒ..? ì•„ê¹Œ ë‹¤ì´ì–´íŠ¸ í•œë‹¤ê³ í•´ë†“ê³ .. ë‚˜ ì§„ì§œ ë‹¤ë©”ë‹ê²ì´ë‹¤ã… ã… ",
        keywords: ["ìš´ë™", "í”„ë§ê¸€ìŠ¤", "ë‹¤ì´ì–´íŠ¸", "ë‹¤ë©”ë‹ê²", "ìì±…", "ì‹¤íŒ¨"],
        importance: 0.8
    },
    {
        content: "ë™ë„¤ ì´ˆë“±í•™ìƒ ê¼¬ë§ˆê°€ ë§ì„ ê±¸ì—ˆë‹¤. 'ëˆ„ë‚˜, ëª‡ì‚´ì´ì—ìš”? ì¤‘í•™ìƒì´ì—ìš”?' 'ì•„ë‡¨ ì„±ì¸ì´ì—ìš”' 'ì•„í•˜- ê·¸ë ‡êµ¬ë‚˜- ì˜ˆë»ìš”.' ë­”ê°€ ì´ˆë“±í•™ìƒ ê¼¬ë§ˆì˜ ë‚˜ì´ë§ì€? ê¸°ì¤€ì´ ì¤‘í•™ìƒê¹Œì§„ê°€!ì‹¶ê¸°ë„í•˜ê³  ë˜ ëˆ„ë‚˜ë¼ê³  ë¶ˆëŸ¬ì¤€ê²Œ ê·€ì—¬ì›Œì„œ ê¸°ë¶„ ë¬˜í•˜ê²Œ ì¢‹ì•˜ë˜ ã…‹ã…‹ã…‹",
        keywords: ["ë™ì•ˆ", "ì´ˆë“±í•™ìƒ", "ëˆ„ë‚˜", "ì˜ˆë»ìš”", "ê¸°ë¶„ì¢‹ìŒ", "ì¹­ì°¬"],
        importance: 0.5
    },
    {
        content: "ìš°ë¦¬ íšŒì‚¬ ìµœê³  ë³µì§€- ìˆœëŒ€&ë™ë™. íŒ€ì¥ë‹˜ì´ êµ¬ì¡°í•´ì˜¨ ëƒ¥ì´ë“¤ì¸ë°, ìˆœëŒ€ëŠ” ë°°ë§Œì ¸ë„ ë°•ì¹˜ê¸°í•˜ëŠ” ê³¨ê³¨ì†¡ì „ìš© ì• êµëƒ¥- ë™ë™ì´ëŠ” ì‹œí¬í•˜ì§€ë§Œ ê°€ë” íˆ­- ì˜›ë‹¤ ê´€ì‹¬í•˜ëŠ” ë¯¸ë¬˜- ë°¤ë°”ê°€ë” ë°ë ¤ê°€ë„ ì…‹ì´ ì˜ì§€ë‚´ëŠ” í¸-",
        keywords: ["íšŒì‚¬", "ê³ ì–‘ì´", "ìˆœëŒ€", "ë™ë™", "ë°¤ë°”", "ë³µì§€"],
        importance: 0.6
    },
    {
        content: "ì¼ë³¸ì™€ì„œ ìœ ì¹´íƒ€ì…ê³  ë¼ë©˜ë¨¹ê¸°! ë²„í‚·ë‹¬ì„±",
        keywords: ["ì¼ë³¸", "ìœ ì¹´íƒ€", "ë¼ë©˜", "ë²„í‚·ë¦¬ìŠ¤íŠ¸", "ì„±ì·¨"],
        importance: 0.8
    },
    {
        content: "ê·¸ë¦¼ì´ ëœ»ëŒ€ë¡œ ì•ˆê·¸ë ¤ì €ì…” ë„ˆë¬´ ìš°ìš¸í•´ã…œã…œã…œã…œ ì•„ ì§œì¦ë‚˜ ë‚˜ëŠ” ì™¤ì¼€ã… ê·¸ë¦¼ì„ ëª»ê·¸ë¦¬ëŠ” ê±¸ê¹Œ.. ê·¸ë¦¼ìŸì´",
        keywords: ["ê·¸ë¦¼", "ìš°ìš¸", "ì§œì¦", "ê·¸ë¦¼ìŸì´", "ì¢Œì ˆ"],
        importance: 0.5
    },
    {
        content: "ë‹¤ì´ì–´íŠ¸ ì‰ì´í¬ìƒ€ë‹¤..! ì§„ì§œ ë”± 5í‚¤ë¡œë§Œ ë¹¼ë³´ì í™”ì´íŒ…!! ë™ì–‘í™” ë°°ì›Œë³´ê³ ì‹¶ë‹¤.. ë””ì§€í„¸ë¡œ ë™ì–‘í™”ëŠë‚Œ ë‚´ëŠ” ë²• ì–´ë–»ê²Œí•´ì•¼í• ê¹Œ?",
        keywords: ["ë‹¤ì´ì–´íŠ¸", "5í‚¤ë¡œ", "ë™ì–‘í™”", "ë””ì§€í„¸", "í™”ì´íŒ…", "ëª©í‘œ"],
        importance: 0.7
    },
    {
        content: "ê²Œì„ì€ ì§„ì§œ í•˜ê¸°ì „ì— ì„¤ì¹˜í• ë•Œê°€ ì ¤ ì¬ë°ŒëŠ”ê±°ê°™ì•„.. ë‚˜ë§Œê·¸ë˜..? ì‹¬ì¦ˆ4ê¹”ê³ ìˆëŠ”ë° 30ë¶„ ì„¤ì¹˜í•˜ëŠ”ë™ì•ˆ ë„í‚¤ë„í‚¤í•˜ë‹¤ê°€ ë§‰ìƒ í•˜ë ¤ë‹ˆ ì–¸ì œí•˜ë‚˜ ì‹¶ì–´ì„œ.. ê¸‰ ì‹ì–´ë²„ë¦¼.. ã…‹ã…‹ã…‹",
        keywords: ["ê²Œì„", "ì„¤ì¹˜", "ì‹¬ì¦ˆ4", "ë„í‚¤ë„í‚¤", "ì‹ìŒ"],
        importance: 0.4
    },
    {
        content: "ì–´ì œ ì¹˜íŒ…ë°ì´ë¡œ ë³´ìŒˆ ë¨¹ì—ˆëŠ”ë° 100ê·¸ëŒë°–ì— ì•ˆëŠ˜ì—ˆë‹¤! ì„ ë°©í–ˆì–´ã…œã…œ ëŒ€ê²¬í•´ ë‚˜ ìì‹ !! ì§„ì§œ ë§ë„ì•ˆë˜ëŠ” ì§ˆë¬¸ì¸ë° ë‹¤ì´ì–´íŠ¸ ì¤‘ ë¨¹ì„ ìˆ˜ ìˆëŠ” ì¿ í‚¤ ë­ê°€ìˆì„ê¹Œ..?",
        keywords: ["ì¹˜íŒ…ë°ì´", "ë³´ìŒˆ", "100ê·¸ëŒ", "ëŒ€ê²¬", "ë‹¤ì´ì–´íŠ¸", "ì¿ í‚¤"],
        importance: 0.7
    },
    {
        content: "ë‚´ ê·¸ë¦¼ì²´ëŠ” ë­˜ê¹Œ? ë­”ê°€ ì¼ì •í•œë“¯ ë‹¬ë¼ì„œ ì¹´ë„ í•­ìƒ ì™”ë‹¤ê°”ë‹¤í•˜ëŠ”ê±° ê°™ì•„ ê·¸ë¦¼ê·¸ë¦°ì§€ 2në…„ì§¸ ì•„ì§ë„ ê°ˆê¸¸ì´ ë©€ë‹¤â€¦ã… ",
        keywords: ["ê·¸ë¦¼ì²´", "ì¼ì •í•œë“¯ë‹¬ë¼", "ì¹´ë„", "2në…„ì§¸", "ê°ˆê¸¸", "ê³ ë¯¼"],
        importance: 0.5
    },
    {
        content: "ì´ëŸ°ì‚¬ì§„ì´ ì¢‹ë”ë¼. ë‚´ê°€ ì£¼ê°€ ì•„ë‹ˆë”ë¼ë„ ì–´ìš°ëŸ¬ì§„ ì‚¬ì§„. ê·¸ë¦¼ê°™ì€ ì‚¬ì§„. ê°„ì§í•˜ê³  ì‹¶ì€ ì‚¬ì§„",
        keywords: ["ì‚¬ì§„", "ì–´ìš°ëŸ¬ì§„", "ê·¸ë¦¼ê°™ì€", "ê°„ì§", "ìŠ¤ëƒ…"],
        importance: 0.6
    },
    {
        content: "ìš”ìƒˆ ë‹¤ì´ì–´íŠ¸ ì„±ê³µì¤‘ì´ë¼ ê³§ ì´¬ì˜ ê°œì‹œí•˜ë ¤ê³ í•˜ëŠ”ë°. ìš”ìƒˆëŠ” ìŠ¤ë ˆë“œë¡œ êµ¬í•˜ëŠ”ê²Œ ëŒ€ì„¸ì¸ê°€?! ì˜ˆì „ì—” ë‹¤ ë””ì— ì´ë‚˜ ìŠ¤í† ë¦¬ë¡œ êµ¬ì¸í–ˆëŠ”ë°, ìŠ¤ë ˆë“œ ë‹¤ì‹œ ì‹œì‘í•´ë³¸ë‹¹!! 2ì›”ë¶€í„° ê°™ì´ ì‘ì—…í•˜ê³  ì‹¶ì€ ì‘ê°€ë‹˜ ìˆë‹¤ë©´ ì‹œì•ˆì´ë‘ í•¨ê»˜ ëŒ“ê¸€ì´ë‚˜ ë””ì— ë³´ë‚´ì¤˜!!",
        keywords: ["ë‹¤ì´ì–´íŠ¸ì„±ê³µ", "ì´¬ì˜", "ìŠ¤ë ˆë“œ", "ì‘ê°€ë‹˜", "ì‹œì•ˆ", "ì‘ì—…"],
        importance: 0.8
    },
    {
        content: "ì„¤í™(é›ªç´…) í•˜ì–€ ëˆˆ ì†ì— ë¶‰ì€ ì—´ë§¤ê°€ í•œê°€ë“ í”¼ì–´ë‚¬ë‹¤. ë½€ì–€ ëº¨ì—, ì‘ì€ ì…ìˆ ì— ë‹¿ì€ ì‘ì€ ì—´ë§¤ëŠ” ë¶€ë„ëŸ¬ìš´ ë“¯ ë°œê·¸ë ˆ ë²ˆì ¸ë‚˜ê°”ë‹¤.",
        keywords: ["ì„¤í™", "í•˜ì–€ëˆˆ", "ë¶‰ì€ì—´ë§¤", "ë½€ì–€ëº¨", "ë¶€ë„ëŸ¬ìš´", "ì‹œ"],
        importance: 0.9
    },
    {
        content: "ì§„ì§œ 2ì£¼ì•ˆì— ë¬´ì¡°ê±´ ëª¸ë¬´ê²Œ 3í‚¤ë¡œë¥¼ ë¹¼ì•¼í•˜ëŠ”ë° (ëˆê±¸ë ¤ìˆì›€!!!) ë¹„ë²•ì¢€ ì•Œë ¤ì¤„ì‚¬ëŒ ã…  ê·¼ë ¥ìœ ì‚°ì†Œí–ˆë”ë‹ˆ ì–´ê¹¨ ë“± íŒ”ì— ê·¼ìœ¡ë¶™ì–´ì„œ ì•…ë§ˆì˜ëˆˆì´ ìƒê²¼ì–´.. ëª¸ë¬´ê²Œë„ ëŠ˜ì–´ë²„ë ¸ê³ ..",
        keywords: ["2ì£¼", "3í‚¤ë¡œ", "ëˆê±¸ë¦¼", "ê·¼ë ¥ìœ ì‚°ì†Œ", "ì•…ë§ˆì˜ëˆˆ", "ê·¼ìœ¡"],
        importance: 0.7
    },
    {
        content: "í•œë¼ì¹˜ê³  ë§ì„ë• ë‹¨í˜¸ë°•ì´ë‚˜ ê³ êµ¬ë§ˆëŠ” ë‚¨ê¸°ê¸°ë”í• ë§Œí¼ ìœ„ê°€ ì¤„ì—ˆì–´ ã…‹ã…‹ ê·¼ë° ë°¤ë§Œë˜ë©´ ë°°ê³ í””ì— ê´´ë¡œì›Œí•˜ë©° ì ë“¦ ã…  ì´ì œ ëª©í‘œê¹Œì§€ 2.3í‚¤ë¡œ-! í˜ë‚´ì ì•„ì-",
        keywords: ["ë‹¨í˜¸ë°•", "ê³ êµ¬ë§ˆ", "ìœ„ê°€ì¤„ìŒ", "ë°¤ë°°ê³ í””", "ëª©í‘œ", "2.3í‚¤ë¡œ"],
        importance: 0.6
    },
    {
        content: "ë“œë””ì–´ ì •ì²´ê¸° ë²—ì–´ë‚œë“¯?! ì˜¤ëŠ˜ -0.5kg. ì–´ì œ ìš´ë™ ë¹¡ì‹œê²Œ í•´ì¤€ ë³´ëŒì´ ìˆë‹¤ã…œã…œ ì´ì œ ëª©í‘œê¹Œì§€ 2.1!!! ì™€ ë“œëŒ 49.5.. ë‚´ë ¤ì™”ë‹¤ ì¢€ë§Œ ë” í˜ë‚´ì íŒŒì´íŒ…!!!!!",
        keywords: ["ì •ì²´ê¸°", "0.5kg", "49.5", "ëª©í‘œ", "íŒŒì´íŒ…", "ì„±ì·¨"],
        importance: 0.8
    },
    {
        content: "í£ ì˜¤ëŠ˜ ë‚´ ìƒì¼ì´ì•¼! í•˜ì¹´íƒ€ ë ˆìŠ¤í† ë‘ì—ì„œ ì„œí”„ë¼ì´ì¦ˆë¡œ ì¼€ì´í¬ë‘ ì„ ë¬¼ë°›ì•„ì„œ ë‹¤ë“¤ ë°•ìˆ˜ì³ì£¼ëŠ”ê²Œ ë„ˆë¬´ë„ˆë¬´ ì‘¥ìŠ¤ëŸ¬ì› ì§€ë§Œ ë„˜ í–‰ë³µí•˜ë‹¤.. ìƒì¼ì¶•í•˜í•´ ë¬´ì¿ !",
        keywords: ["ìƒì¼", "3ì›”17ì¼", "í•˜ì¹´íƒ€ë ˆìŠ¤í† ë‘", "ì„œí”„ë¼ì´ì¦ˆ", "ì¼€ì´í¬", "í–‰ë³µ"],
        importance: 1.0
    },
    {
        content: "í£ ì˜¤ëŠ˜ ì„¸ê³„ ê°•ì•„ì§€ì˜ ë‚ ì´ë˜! íŠ¹ë³„íˆ íŠ¹ì‹ë„ ì¤€ë¹„í•˜ê³  ì‚°ì±…ë„ ì˜¤ë˜í•˜ë ¤ê³ í–ˆëŠ”ë°â€¦. í•˜, ì„¸ê³„ ê°•ì•„ì§€ì˜ ë‚ ì„ ë§ì´í•´ ì•ˆí•˜ë˜ ì§“ì„ í•˜ì‹œëŠ” ë¹ ë°¤ë°” ì„ ìƒ^^* ê¸¸ë°”ë‹¥ì— ë“œë£¨ëˆ•ë”ë‹ˆ ê²°êµ­ ì§€ë‚˜ê°€ë˜ ë¶„ê»˜ì„œ 'í•˜í•˜-ê°•ì•„ì§€ ë„˜ ì›ƒê¸°ë‹¼ã…‹ã…‹'ë¼ê³  í•˜ê³ ê°€ì‹¬ ã… ",
        keywords: ["ì„¸ê³„ê°•ì•„ì§€ì˜ë‚ ", "ë¹ ë°¤ë°”", "íŠ¹ì‹", "ê¸¸ë°”ë‹¥", "ë“œë£¨ëˆ•", "ì›ƒê¸°ë‹¤"],
        importance: 0.9
    },
    {
        content: "ì˜¤ëŠ˜ í•˜ë£¨ë„ ë²„í„°ë‚´ê³ ìˆë‹¤! ì˜í•˜ê³ ìˆì–´ ë¬´ì¿ ì•¼! ë°¤ë°”ê°€ í™œì§ ì›ƒëŠ” ëª¨ìŠµì„ ë³´ë‹ˆ ë„ˆë¬´ ê¸°ë¶„ì´ ì¢‹ë‹¤- ê·¼ë° ì‚°ì±…ë‹¤ë…€ì˜¤ê³  ì§‘ì—ì™€ì„œ ë” ì‹ ë‚˜í•˜ëŠ”ê²Œ í‚¬í¬ ã…‹ã…‹",
        keywords: ["ë²„í„°ë‚´ê³ ìˆë‹¤", "ì˜í•˜ê³ ìˆì–´ë¬´ì¿ ì•¼", "ë°¤ë°”", "ì›ƒìŒ", "ì‚°ì±…", "ì‹ ë‚¨"],
        importance: 0.8
    },
    {
        content: "ëŒì•„ê°€ì‹  ì™¸í• ë¨¸ë‹ˆëŠ” ë‚˜ë¥¼ ì œì¼ ì˜ˆë»í•˜ì…¨ì–´. ê¸°ì–µì•ˆë‚˜ëŠ” ì• ê¸°ë•Œë¶€í„° ì™¸í• ë¨¸ë‹ˆë‘ ì°ì€ ì‚¬ì§„ì—” í•­ìƒ í™œì§ ì›ƒê³  ë‚˜ë¥¼ ê¿€ ë–¨ì–´ì§€ëŠ” ëˆˆìœ¼ë¡œ ë°”ë¼ë³´ê³  ê³„ì…¨ì§€. ê·¸ëŸ° ì™¸í• ë¨¸ë‹ˆê°€ ì†ìˆ˜ ì‘¥ì„ ëœ¯ì–´ë‹¤ ë°©ì•—ê°„ì— ë§¡ê²¨ì„œ ì‘¥ë°±ì„¤ê¸°ë¥¼ ë§Œë“¤ì–´ì£¼ì…¨ì—ˆëŠ”ë° ê·¸ ë§›ì´ ìŠí˜€ì§€ì§ˆ ì•Šë„¤!",
        keywords: ["ì™¸í• ë¨¸ë‹ˆ", "ì œì¼ì˜ˆë»", "ê¿€ë–¨ì–´ì§€ëŠ”ëˆˆ", "ì‘¥ë°±ì„¤ê¸°", "ìŠí˜€ì§€ì§€ì•ŠëŠ”ë§›"],
        importance: 0.9
    },
    {
        content: "ì™€- ë‚´ëˆë‚´ì‚° ì‘¥ë°±ì„¤ê¸° ë–¡ì£¼ë¬¸ í›„ê¸°.. ë‚´ê°€ ê³„ì† ì™¸í• ë¨¸ë‹ˆê°€ í•´ì£¼ì…¨ë˜ ì‘¥ë°±ì„¤ê¸°ê°€ ë„˜ ë¨¹ê³ ì‹¶ì–´ì„œ ì‘¥ë°±ì„¤ê¸° ì§‘ì„ ì°¾ì•„ë‹¤ë…”ê±°ë“ ? ê·¼ë° ì§ì ‘ ì‘¥ ë°­ í•˜ë©´ì„œ ë²„ë¬´ë¦¬í•˜ëŠ” ì§‘ì„ ë°œê²¬í•´ì„œ ì§ì ‘ í•œë˜ íƒë°° ì£¼ë¬¸í–ˆì–´. ì™€.. ì§„ì§œ ë„ˆë¬´ ë§›ìˆì–´!!! ì‘¥í–¥ ì†”ì†”ë‚˜ê³  ë°€ë„ë„ ë†’ì•„ì„œ ë„˜ ì¢‹ê³  í¬ì‹¤í•´..",
        keywords: ["ì‘¥ë°±ì„¤ê¸°", "ì™¸í• ë¨¸ë‹ˆì¶”ì–µ", "ì‘¥í–¥ì†”ì†”", "í¬ì‹¤í•´", "ê°ë™"],
        importance: 0.8
    },
    {
        content: "2ê°œì›”ê°„ 10í‚¤ë¡œ ë¹¼ë©´ì„œ ë¨¹ì—ˆë˜ ì‹ë‹¨ ë¦¬ìŠ¤íŠ¸- 163cm 56->46 ì§‘ì—ì„œ ë¨¹ì€ê±°ë§Œ ì¶”ë ¤ë³´ê³  ë³´í†µ ì´ê±° ë‹¤ ëŒë ¤ë¨¹ì—ˆì–´. ìì£¼ ë¨¹ì—ˆë˜ê±°ë§Œ ì¶”ë¦¬ë©´ ê³ êµ¬ë§ˆ, ë°©í† , ê·¸ë¦­ìš”ê±°íŠ¸, ê·¸ë ˆë†€ë¼, ê³„ë€ ì´ê²Œ ë©”ì¸! ë‹¤ë“¤ ë§›ìˆê²Œ ë¨¹ìœ¼ë©´ì„œ ë‹¤ì´ì–´íŠ¸í•˜ì¥",
        keywords: ["2ê°œì›”", "10í‚¤ë¡œê°ëŸ‰", "56ì—ì„œ46", "ê³ êµ¬ë§ˆ", "ê·¸ë¦­ìš”ê±°íŠ¸"],
        importance: 0.8
    },
    {
        content: "í•­ìƒ ì¼ ëë‚˜ê³  ë°¤ì—ë§Œ ì‚°ì±…ì‹œì¼œì£¼ëŠ”ê²Œ ë¯¸ì•ˆí–ˆëŠ”ë° ì£¼ë§ì— ë¹„ì˜¨ë‹¤ê³ í•´ì„œ ì˜¤ëŠ˜ ì¼ì° ë§ˆì¹˜ê³  í•´ì§€ê¸°ì „ì— í›„ë‹¤ë‹¥ ë°¤ë°” ê½ƒêµ¬ê²½ì‹œì¼œì£¼ê³  ì™”ì–´- ì§€ë‚˜ê°€ë˜ ë¶„ì—ê²Œ ë°¤ë°” ì‚¬ì§„ ì°ì–´ë‹¬ë¼ê³  ë¶€íƒë“œë ¸ëŠ”ë° ë‚˜ê¹Œì§€ ê°™ì´ ì°ì–´ì£¼ì…¨ë„¤?",
        keywords: ["ë°¤ì‚°ì±…ë¯¸ì•ˆ", "ê½ƒêµ¬ê²½", "ë°¤ë°”ì‚¬ì§„", "ê°™ì´ì°ì–´ì¤Œ"],
        importance: 0.7
    },
    {
        content: "ì˜¤ëŠ˜ ë°¤ë°” ì‚¬ì´í† í¬ì¸íŠ¸(ì•ŒëŸ¬ì§€ì˜ˆë°©ì£¼ì‚¬)ë§íˆëŸ¬ ë™ë¬¼ ë³‘ì›ê°„ê¹€ì—, ì–¼ë§ˆì „ì— ë°¤ë°”ê°€ ì•ˆí•˜ë˜ í–‰ë™ì„ í•˜ëŠ”ê²Œ ê±±ì •ë˜ì„œ ìˆ˜ì˜ì‚¬ ì„ ìƒë‹˜ì´ë‘ ìƒë‹´í–ˆì–´. 'ë°¤ë°”ê°€ ì•ˆí•˜ë˜ ì§“ì„ í•´ìš”. ì‚°ì±…ë‚˜ê°€ì„œ í•œ 20ë¶„ ê±¸ì—ˆëŠ”ë° ê¸¸ì— ë“œë£¨ëˆ„ì› ì–´ìš”. ìŠ¬ê°œê³¨ì´ ì•ˆì¢‹ì•„ì¡Œë‚˜ìš”?' 'ìŒ ë³¼ê²Œìš”~ ìŠ¬ê°œê³¨ì€ ë˜‘ê°™ê³ , ì–¼ë§ˆì „ ì°ì€ ì”¨í‹°ì—ì„œ ê³¨ë°˜ë¬¸ì œë‘ ë””ìŠ¤í¬ë„ ì—†ê³  ê±´ê°•í•œë°ìš”?' 'ê·¸ëŸ¼ ì™œê·¸ëŸ¬ëŠ”ê±°ì£ ..?' 'ìŒâ€¦ ê·¸ëƒ¥ ê·¸ë‚  ë°¤ë°”ê°€ ë³„ë¡œ ì‚°ì±…í•  ê¸°ë¶„ì´ ì•„ë‹ˆì—ˆë‚˜ë´ìš”.' 'ê·¸ëƒ¥ ê¸°ë¶„ì´ìš”..?' 'ë„¤. ê·¸ëƒ¥ ê¸°ë¶„ì´.'",
        keywords: ["ì‚¬ì´í† í¬ì¸íŠ¸", "ì•ŒëŸ¬ì§€ì˜ˆë°©ì£¼ì‚¬", "ë“œë£¨ëˆ„ì›€", "ìŠ¬ê°œê³¨", "ê·¸ëƒ¥ê¸°ë¶„"],
        importance: 0.7
    },
    {
        content: "ì—„ë§ˆì˜ ì²« í•´ì™¸ì—¬í–‰. ëª¨ë˜ ì•„ì¹¨ì— ë‚˜ë‘ ë‹¨ ë‘˜ì´ ë– ë‚˜! ì—„ë§ˆ ì˜· ê³¨ëì–´? ë­ë­ ê³¨ëì–´? í•˜ë‹ˆê¹Œ 'ì‘? ì•„ì§ ì•ˆìŒŒëŠ”ë°? ë‚´ì¼ ë„ˆì˜¤ë©´ ê°™ì´ ìŒ€ë¼ê³ í–ˆëŠ”ë°? ã…ã…' 'ì—¥? ì•„ì§ë„ ì•ˆê³¨ëì–´?' 'ì•„ë‹ˆ ë­ ëª¨ë˜ê°€ëŠ”ë° ë‚´ì¼ ì‹¸ë©´ ë˜ëŠ”ê±°ì•„ëƒ?? ã…ã…' ë‚˜ ì¹œìê²€ì‚¬ ì•ˆí•´ë„ ìš¸ì—„ë§ˆ ë”¸ 100% ë§ëŠ”ê±° ë§ì§€? ã…‹ã…‹ã…‹ã…‹ ìš¸ ì—„ë§ˆëŠ” ì—­ì‹œ ë„ˆë¬´ ê·€ì—½ë‹¤-",
        keywords: ["ì—„ë§ˆì²«í•´ì™¸ì—¬í–‰", "ë‹¨ë‘˜ì´ì—¬í–‰", "ì§ì•ˆìŒˆ", "ì¹œìê²€ì‚¬", "ë„ˆë¬´ê·€ì—¬ì›Œ"],
        importance: 0.9
    },
    {
        content: "ì—„ë§ˆì˜ ì²« í•´ì™¸ì—¬í–‰- 1ì¼ì°¨ ë±ƒí‘¸ ë£Œì¹¸ ê°”ë‹¤ì™”ì–´-! ê°€ì´ì„¸í‚¤ê¹Œì§€ ì‹ ì²­í•´ì„œ ì €ë… ë§›ìˆê²Œ ëƒ ëƒ í–ˆëŠ”ë° ì—­ì‹œ ê³ ê¸°ê°€ ì§±! ì™€ê·œê°€ ì ¤ ë§›ìˆë”ë¼-! ì˜¨ì²œë„ ì˜ˆì•½ì‹ì´ë¼ ìš°ë¦¬ ë‘˜ë§Œ ì“¸ ìˆ˜ìˆê³  ë°©ë„ í¬ê³  í’ê²½ë„ ì´ì˜êµ¬- ê·¸ì¤‘ì—ì„œ ìš¸ì—„ë§ˆê°€ ì ¤ ì´ë¿œ-!",
        keywords: ["ë±ƒí‘¸ë£Œì¹¸", "ê°€ì´ì„¸í‚¤", "ì™€ê·œ", "ì˜¨ì²œ", "ìš¸ì—„ë§ˆê°€ì ¤ì´ë¿œ"],
        importance: 0.9
    },
    {
        content: "ì—„ë§ˆì˜ ì²« í•´ì™¸ì—¬í–‰- 2ì¼ì°¨ í›„ì¿ ì˜¤ì¹´ ê·¼ë°© í‚¤íƒ€íìŠˆë¡œ ìŠˆìŠ- ê¸°ì°¨ì•ˆì—ì„œ ê°„ì‹ë¨¹ìœ¼ë©´ì„œ ë„ì°©í•˜ìë§ì ë‚¨ì¹œì´ ë§ì—†ì´ ë§ˆì¤‘ë‚˜ì™€ìˆëŠ”ê±°ì•¼! ì–¼ë§ˆë‚˜ ë†€ëëŠ”ì§€ ã…‹ã…‹ ëª¨ì§€ì½”ì—­ê°€ì„œ ë‚¨ì¹¨ì´ë‘ ê°™ì´ ì—„ë§ˆ ì‚¬ì§„ë„ ì°ì–´ì£¼ê³ , ë˜ê°„ì§‘ ë§›ì§‘ì—ì„œ ì•¼ë¼ì¹´ë ˆë¨¹ì—ˆëŠ”ë° ì—„ë§ˆê°€ ë„˜ ë§›ìˆë‹¤ê³ í•´ì„œ ê¸°ë»¤ì–´!",
        keywords: ["í‚¤íƒ€íìŠˆ", "ë‚¨ì¹œë§ˆì¤‘", "ëª¨ì§€ì½”ì—­", "ì•¼ë¼ì¹´ë ˆ", "ì—„ë§ˆê°€ë§›ìˆë‹¤ê³ "],
        importance: 1.0
    },
    {
        content: "ì €ë…ì—ëŠ” ì˜ˆì „ì— í•œë²ˆ ê°”ë˜ ì˜¤ë§ˆì¹´ì„¸ ë‹¤ë…€ì™”ëŠ”ë°, ì£¼ì¸ë¶„ì´ ì˜¤ëœë§Œì´ë¼ê³  ë°˜ê²¨ì£¼ì‹œê³  ê³„ì† í•œêµ­ì–´ë¡œ ë²ˆì—­í•´ì„œ ìŒì‹ ì„¤ëª…í•´ì£¼ì‹œê³  ì—„ë§ˆë‘ ë‚˜ë‘ ì‹ ê²½ì¨ì£¼ì…”ì„œ ë„ˆë¬´ ê°ì‚¬í–ˆì§€ã…œ ë‚¨ì¹œì´ ë§¡ê²¨ë‘” ì¼€ì´í¬ë¡œ ì„œí”„ë¼ì´ì¦ˆ ìƒì¼ íŒŒí‹°ë„ í•´ë“œë ¸ëŠ”ë° ë‹¤ë“¤ ì¶•í•˜í•´ì£¼ì‹œê³  ì˜†ì— ì•‰ì€ ë‚¨ìë¶„ì´ ì¹µí…Œì¼ê¹Œì§€ ì£¼ì…”ì„œ ì™„ì „ ì¦ê±°ì› ì–´.",
        keywords: ["ì˜¤ë§ˆì¹´ì„¸", "í•œêµ­ì–´ë²ˆì—­", "ë‚¨ì¹œì´ë§¡ê²¨ë‘”ì¼€ì´í¬", "ì„œí”„ë¼ì´ì¦ˆìƒì¼íŒŒí‹°", "ì¹µí…Œì¼"],
        importance: 1.0
    },
    {
        content: "ë‚˜ê°€ëŠ” ê¸¸ì—” ì£¼ì¸ë¶„ê»˜ì„œ ê³ ì˜¤ê¸‰- íŒŒìš´ë“œì¼€ì´í¬ë„ ìƒì¼ì„ ë¬¼ì´ë¼ê³  ì±™ê²¨ì£¼ì…”ì„œ.. ì™„ì „ ê°ë™í–ˆìë‚˜..! ps.ì—„ì²­ ì˜ ì°ì€ ì‚¬ì§„ì€ ë‚´ ì‘í’ˆì•„ë‹Œ ë‚¨ì¹œ ì‘í’ˆ ã…‹ã…‹",
        keywords: ["íŒŒìš´ë“œì¼€ì´í¬", "ìƒì¼ì„ ë¬¼", "ì™„ì „ê°ë™", "ë‚¨ì¹œì‘í’ˆ", "ì˜ì°ì€ì‚¬ì§„"],
        importance: 0.8
    },
    {
        content: "3ì¼ì°¨ì—” ì—„ë§ˆë‘ ë‚¨ì¹œì´ë‘ ì…‹ì´ ë‹¤ìì´í›„ì— ë‹¤ë…€ì™”ì–´! ì—„ë§ˆê°€ ë„Œì§€ì‹œ- ê¸°ëª¨ë…¸ ì–˜ê¸°ë„ í•˜ì‹œê¸¸ë˜ ë¯¸ë¦¬ ì˜ˆì•½í•´ì„œ í”„ë¦¬ë¯¸ì—„ ì½”ìŠ¤ë¡œ í—¤ì–´ ì…‹íŒ…ê¹Œì§€ ì™„ë²½í•˜ê²Œ ë°›ì•˜ì§€-! ìš¸ì—„ë§ˆ ì¹´ë©”ë¼ ì•ì—ì„œ í¬ì§• ë„ˆë¬´ë„ˆë¬´ ì˜í•˜ì§€ ì•Šì•„!? ì™„ì „ ëª¨ë¸ì¸ ì¤„ ì•Œì•˜ì–´-",
        keywords: ["ë‹¤ìì´í›„", "ì—„ë§ˆë‘ë‚¨ì¹œì´ë‘ì…‹ì´", "ê¸°ëª¨ë…¸", "í”„ë¦¬ë¯¸ì—„ì½”ìŠ¤", "ì—„ë§ˆí¬ì§•"],
        importance: 0.9
    },
    {
        content: "ì§€ë‚˜ê°€ë˜ ì•„ì €ì”¨ë“¤ì´ ìê¾¸ ìš¸ì—„ë§ˆ ëª°ë˜ ì°ì–´ì„œ ë‚´ê°€ ì¹´ë©”ë¼ ì†ìœ¼ë¡œ ê°€ë¦¬ê³  ë³´ë””ê°€ë“œ í•´ì¤¬ìë‚˜ ì§€ë‚˜ê°€ë˜ íƒ€ì´ì™„ ì•„ì£¼ë¨¸ë‹ˆê°€ ê°™ì´ ì‚¬ì§„ì°ê³ ì‹¶ë‹¤ê³  ì—„ë§ˆë³´ê³  ë·°í‹°í’€- ì´ë˜ì„œ ê°™ì´ ì‚¬ì§„ë„ ì°ì–´ë“œë¦¬êµ¬ ã…‹ã…‹",
        keywords: ["ì•„ì €ì”¨ë“¤ëª°ë˜ì°ìŒ", "ë³´ë””ê°€ë“œ", "íƒ€ì´ì™„ì•„ì£¼ë¨¸ë‹ˆ", "ë·°í‹°í’€", "ê°™ì´ì‚¬ì§„"],
        importance: 0.7
    },
    {
        content: "ì—„ë§ˆê°€ 'ë‚˜ëŠ” ì¼ë³¸ì—ì„œ íƒœì–´ë‚¬ì–´ì•¼í–ˆì–´-'ë¼ê³  í•˜ëŠ”ë° ì—¬í–‰ ì˜ ì˜¨ê±°ê°™ì•„ì„œ ë„ˆë¬´ ë¿Œë“¯í–ˆë˜ í•˜ë£¨ì•¼",
        keywords: ["ì¼ë³¸ì—ì„œíƒœì–´ë‚¬ì–´ì•¼", "ì—¬í–‰ì˜ì˜¨ê±°ê°™ì•„", "ë¿Œë“¯í–ˆë˜í•˜ë£¨"],
        importance: 0.8
    },
    {
        content: "ì ì‹¬ë¨¹ê³  ë˜ ë°±í™”ì ê°€ì„œ ì—„ë§ˆ ì‹œê³„.. ì•„ë¹  ì‹œê³„.. ì–¸ë‹ˆë“¤ ì„ ë¬¼ì‚¬ê³ - í•œ ë„¤ì‹œê°„ì€ ì‡¼í•‘í•œê±°ê°™ì•„.. ã…‹ ê·¸ë¦¬ê³  ì°¾ì•„ë†¨ë˜ ìˆ˜í”Œë ˆíŒ¬ì¼€ì´í¬ ë¨¹ìœ¼ëŸ¬ ì¹´í˜ê¹Œì§€ íƒì‹œíƒ€ê³  ê°”ëŠ”ë° ì™ ì¼.. ë‚´ê°€ ì˜†ì§‘ìœ¼ë¡œ ì˜ëª»ë“¤ì–´ì™”ë„¤..? ê±°ê¸°ë„ íŒ¬ì¼€ì´í¬ë¥¼ íŒ”ì•„ì„œ ì°©ê°í•˜ê³  ì‹œì¼°ë„¤..? ë‚˜ ì§„ì§œ ìš¸ë»”í–ˆëŠ”ë° ì—„ë§ˆê°€ ë„ˆë„¤ ì–¸ë‹ˆì˜€ìœ¼ë©´ 'ì—„ë§ˆ! ì´ê²ƒë„ íŒ¬ì¼€ì´í°ë° ê± ë¨¹ì–´-!'í–ˆì„ê±°ë¼ê³  ìœ„ë¡œì•„ë‹Œ ìœ„ë¡œí•´ì£¼ì‹¬ã…‹",
        keywords: ["ê°€ì¡±ì„ ë¬¼", "4ì‹œê°„ì‡¼í•‘", "ìˆ˜í”Œë ˆíŒ¬ì¼€ì´í¬", "ì˜ëª»ë“¤ì–´ê°", "ìœ„ë¡œì•„ë‹Œìœ„ë¡œ"],
        importance: 0.7
    },
    {
        content: "ì—„ë§ˆì˜ ì²« í•´ì™¸ì—¬í–‰ - ëª¨ë‘ì—ê²Œ íš¨ë…€ë”¸ ì†Œë¦¬ ë“¤ì€ 4ë°•5ì¼ í›„ê¸°ì™€ ë¹„ë²•!! 1. ëˆì€ ë‹¤ì‹œ ë²Œ ìˆ˜ ìˆì§€ë§Œ ìš¸ ë¶€ëª¨ë‹˜ ì‹œê°„ì€ ë‹¤ì‹œ ëŒì•„ì˜¤ì§€ ì•ŠëŠ”ë‹¤ ëª…ì‹¬ ë˜ ëª…ì‹¬! 2. ë‹¹ì—°íˆ ì—„ë§ˆ ì…ë§›ì— ì•ˆë§ëŠ” ìŒì‹ ìˆì„ ìˆ˜ ìˆìœ¼ë‹ˆê¹Œ ì§œë‹¤. ëŠê¸€í•˜ë‹¤. ì´ëŸ°ê±°ì— ìƒì²˜ë°›ì§€ ë§ê¸°! 3. ì—„ë§ˆ ê±´ê°•ì´ ìµœìš°ì„ !! ì¼ì •ì´ í‹€ì–´ì§€ë”ë¼ë„ ì—„ë§ˆ ê±´ê°• ìµœìš°ì„ ìœ¼ë¡œí•˜ê³  ì¤‘ê°„ì¤‘ê°„ ì‰¬ì–´ì£¼ê¸°-",
        keywords: ["íš¨ë…€ë”¸ì†Œë¦¬", "ë¶€ëª¨ë‹˜ì‹œê°„", "ëŒì•„ì˜¤ì§€ì•ŠëŠ”ë‹¤", "ì—„ë§ˆê±´ê°•ìµœìš°ì„ "],
        importance: 0.9
    },
    {
        content: "ì•ˆë…•- ë‚˜ëŠ” ë¹ ë°¤ë°” ì—„ë§ˆì•¼! ë°¤ë°”ë‘ ê°™ì´ ì§€ë‚¸ì§€ëŠ” 4ë…„ì§¸, ì‚¬ì‹¤ ì²˜ìŒì— ë°¤ë°”ë¥¼ ì…ì–‘í•˜ë ¤ê³ í–ˆë˜ê±´ ì•„ë‹ˆì—ˆì–´. ìœ ê¸°ê²¬ë´‰ì‚¬í•˜ë©´ì„œ í¬ì¸í•¸ë“œ ë³´ë‹¤ê°€ ë„ˆë¬´ ë§˜ì— ì™ ë“œëŠ” ê°•ì•„ì§€ë¥¼ ë´ì„œ ê·¸ ì¹œêµ¬ë¥¼ ì…ì–‘í•˜ëŸ¬ ê³ ì–‘ì‹œ ìœ ê¸°ë™ë¬¼ ê¸¸ê±°ë¦¬ ì…ì–‘ìº í˜ì¸ì— ê°”ì—ˆì–´. ê·¸ì¹œêµ¬ëŠ” ì—­ì‹œ ë„ˆë¬´ ì´ì˜ë”ë¼. ê·¼ë° ì˜†ì— ì½§ë“±ë„ ê¹Œì§€ê³  ëª»ìƒê¸´ ë°¤ë°”ê°€ íŒŒë“¤íŒŒë“¤ìˆì—ˆëŠ”ë°, ë”± ë´ë„ ì–˜ëŠ” ì•„íŒŒë³´ì´ëŠ”ê²Œ 'ì•„ë¬´ë„ ì…ì–‘ ì•ˆí• ê±°ê°™ì•„.'ë¼ëŠ” ìƒê°ì´ ë“¤ì—ˆì–´.",
        keywords: ["ë¹ ë°¤ë°”ì—„ë§ˆ", "4ë…„ì§¸", "ìœ ê¸°ê²¬ë´‰ì‚¬", "ì½§ë“±ê¹Œì§", "ì•„ë¬´ë„ì…ì–‘ì•ˆí• ê±°ê°™ì•„"],
        importance: 0.9
    },
    {
        content: "ê·¸ë ‡ê²Œ ê·¸ëƒ¥ ë¥ì© ë°¤ë°”ë¥¼ ë°ë ¤ì™”ì–´. ë³‘ì› ë°ë ¤ê°€ë³´ë‹ˆ í™ì—­ ë¶€ì‘ìš©ìœ¼ë¡œ ì´ë¹¨ë„ ì—†ê³  ë°œí†±ë„ ê¸°í˜•ì´ê³  ìŠ¬ê°œê³¨íƒˆêµ¬ì— íë ´ê¹Œì§€ ìˆë”ë¼. í•œ ë‘ë‹¬ì€ ë°¤ë°” ê¸°ì¹¨ì†Œë¦¬ì— ëª»ìê³ , ê·¸ë’¤ë¡œ ë‘ë‹¬ì€ ê¸°ì¹¨ì†Œë¦¬ê°€ ì•ˆë“¤ë¦¬ë©´ ì• ê°€ í°ì¼ë‚¬ì„ê¹Œë´ ëª»ì¤ì–´- ê·¸ë˜ë„ ë‚˜ì´ë„ ëª¨ë¥´ëŠ” ì„±ê²¬ì´ì§€ë§Œ 2.7í‚¤ë¡œì˜€ë˜ ìœ ê¸°ê²¬ì€ ì§€ê¸ˆ 4.5í‚¤ë¡œì— ì˜ì›ƒê³  ê·€ë„ í•œìª½ ì„¸ìš°ëŠ” ì¬ì£¼ë¥¼ ê°€ì§„ ë¹ ë°¤ë°”ê°€ ë˜ì—ˆì–´!",
        keywords: ["ë¥ì©ë°ë ¤ì˜´", "í™ì—­ë¶€ì‘ìš©", "ì´ë¹¨ì—†ìŒ", "ê¸°ì¹¨ì†Œë¦¬ì—ëª»ì ", "2.7ì—ì„œ4.5í‚¤ë¡œ"],
        importance: 0.9
    },
    {
        content: "ë‚´ê°€ í•œë§ˆë¦¬ ì…ì–‘í•œë‹¤ê³  ì„¸ìƒì´ ë°”ë€Œì§„ ì•Šì§€ë§Œ, ê·¸ì•„ì´ì˜ ì„¸ìƒì€ ë°”ê¿€ìˆ˜ ìˆë‹¤. ë‚˜ëŠ” ì´ë§ì„ ì°¸ ì¢‹ì•„í•´- ë°¤ë°” ë§ì´ ì‚¬ë‘í•´ì£ ! ì•ˆë…•-",
        keywords: ["ì„¸ìƒì€ë°”ë€Œì§€ì•Šì§€ë§Œ", "ê·¸ì•„ì´ì˜ì„¸ìƒì€ë°”ê¿€ìˆ˜ìˆë‹¤", "ì´ë§ì„ì°¸ì¢‹ì•„í•´"],
        importance: 0.9
    },
    {
        content: "ì „ ë‚¨ìì¹œêµ¬ëŠ” ë‚´ ìš°ìš¸ì¦ì„ ì¢…ì¢… ë¹„ì— ë¹„ìœ í•˜ë©´ì„œ 'ê³„ì† ë¹—ì†ì— ìˆëŠ” ë„ˆì—ê²Œ ìš°ì‚°ì„ ì”Œì›Œì£¼ê³  ë‹¦ì•„ì¤˜ë„. ë„ˆê°€ ë‹¤ì‹œ ë¹—ì†ìœ¼ë¡œ ëŒì•„ê°„ë‹¤ë©´ ì•„ë¬´ ì†Œìš© ì—†ëŠ”ê±°ì•¼'ë¼ê³  ë§í•˜ê³¤ í–ˆë‹¤. 'ë‚˜ëŠ” ëŠ˜ ë¹—ì†ì— ì –ì–´ ìˆëŠ” ì•„ì´êµ¬ë‚˜..'ë¼ê³  ìƒê°í–ˆë‹¤.",
        keywords: ["ì „ë‚¨ìì¹œêµ¬", "ìš°ìš¸ì¦", "ë¹„ì—ë¹„ìœ ", "ë¹—ì†ì—ì –ì–´ìˆëŠ”ì•„ì´"],
        importance: 0.9
    },
    {
        content: "ê·¸ëŸ¬ë‹¤ ì¬ì‘ë…„ ê²¨ìš¸, ì§€ê¸ˆ ë‚¨ìì¹œêµ¬ ì•„ì €ì”¨ì™€ ì‚¬ê·€ê¸°ì „ ìš°ë¦¬ê°€ ë§Œë‚œ ë‚  ë¹„ê°€ ì™”ë‹¤. ë¹„ê°€ ì¶”ì ì¶”ì  ì˜¤ëŠ” ë°¤ì—, ì•„ì €ì”¨ëŠ” ë‚˜ë³´ê³  ê¸°ë‹¤ë¦¬ë¼ë©° ìš°ì‚°ì„ ê°€ì§€ëŸ¬ ê°”ë‹¤. ì¡°ê¸ˆì”© ë¹—ì¤„ê¸°ê°€ êµµì–´ì§€ëŠ”ë°, ë©€ë¦¬ì„œ ì•„ì €ì”¨ê°€ ë›°ì–´ì˜¤ëŠ” ê²Œ ë³´ì˜€ë‹¤. ì™œ ìš°ì‚°ì„ ì•ˆì“°ê³ ì˜¤ì§€? ì˜ì•„í•´ì„œ ë¬¼ì–´ë´¤ë‹¤.",
        keywords: ["ì¬ì‘ë…„ê²¨ìš¸", "ì•„ì €ì”¨ì™€ì‚¬ê·€ê¸°ì „", "ë¹„ì˜¤ëŠ”ë°¤", "ìš°ì‚°ê°€ì§€ëŸ¬ê°", "ë›°ì–´ì˜¤ëŠ”ëª¨ìŠµ"],
        importance: 1.0
    },
    {
        content: "ì•„ì €ì”¨ëŠ” ì›ƒìœ¼ë©´ì„œ ëŒ€ë‹µí–ˆë‹¤. 'ì™ ì§€ ë¹„ ë§ê³  ìˆì„ ê±° ê°™ì•„ì„œ, ë‚˜ë„ ê°™ì€ ë¹„ ë§ìœ¼ë ¤ê³ ìš”. ê°™ì´ ìš°ì‚° ì“°ë©´ ì¢‹ì–ì•„ìš”.' ë¼ê³  ë§í•˜ë©° ë‚´ê²Œ ìš°ì‚°ì„ ì”Œì›Œì¤¬ë‹¤. 'ì•„, ë‚˜ëŠ” ìš°ì‚°ì„ ì”Œì›Œì£¼ê³  ë‹¦ì•„ì¤„ ì‚¬ëŒì´ ì•„ë‹ˆë¼, ë‚´ ë¹„ë¥¼ ê°™ì´ ê¸°êº¼ì´ ë§ì•„ì¤„ ìˆ˜ ìˆëŠ” ì‚¬ëŒì´ í•„ìš”í–ˆë˜ ê±°êµ¬ë‚˜.' ê·¸ ë‚  ë´¤ë˜ ë°¤ì˜ í’ê²½ì´ ì–¼ë§ˆë‚˜ ì˜ˆì˜ë˜ì§€, ì§€ê¸ˆë„ ê°€ë” ê·¸ ê¸¸ì„ ê°™ì´ ê±¸ì„ ìˆ˜ ìˆì–´ì„œ ë„ˆë¬´ ì¢‹ë‹¤.",
        keywords: ["ê°™ì€ë¹„ë§ìœ¼ë ¤ê³ ", "ê°™ì´ìš°ì‚°ì“°ë©´ì¢‹ì–ì•„ìš”", "ë‚´ë¹„ë¥¼ê°™ì´ê¸°êº¼ì´ë§ì•„ì¤„ì‚¬ëŒ", "ë°¤ì˜í’ê²½", "ê·¸ê¸¸ì„ê°™ì´ê±¸ìŒ"],
        importance: 1.0
    },
    {
        content: "ì–¼ë§ˆì „ ë§Œë‚¬ì„ ë•Œ ì¢€ íˆ¬ë‹¥íˆ¬ë‹¥í–ˆëŠ”ë°, ìê¸°ì „ì— ìš°ë¦¬ëŠ” í•­ìƒ ì˜í†µì„ í•˜ê±°ë“ . ê°‘ìê¸° ì˜í†µí•˜ë‹¤ê°€ ë„ˆë¬´ ì§„ì§€í•œ ì–¼êµ´ë¡œ ë§í•˜ë”ë¼êµ¬ 'ë‚´ê°€ ê·¸ë•Œ ì™œ...' 'ë­ì§€? ì–¼ë§ˆì „ ì‹¸ìš´ê±° í›„íšŒí•˜ë‚˜..? ë¬´ìŠ¨ ì¼ ìˆì—ˆë‚˜..?' 'ê¹€ë°¥ íŠ€ê¹€ì„ ì•ˆë¨¹ì—ˆì„ê¹Œ...' ìš°ë¦¬ í¬ì¥ë§ˆì°¨ì—ì„œ ë–¡ë³¶ì´ë‘ ì˜¤ë…, ìˆœëŒ€ ì‚¬ì™€ì„œ ë¨¹ì—ˆëŠ”ë°ã…‹ã…‹ ê·¸ë•Œ ê¹€ë°¥íŠ€ê¹€ ì•ˆì‹œí‚¨ê±¸ ë°¤ì— ì§„ì§€í•˜ê²Œ í›„íšŒí•˜ëŠ” ê±°ì˜€ìŒ ã…‹ã…‹ã…‹ã…‹ ë„ˆë¬´ ì§„ì§€í•´ì„œ ê·€ì—¬ì›Œ ì£½ëŠ” ì¤„.. ìë‘ê¸€ì´ì•¼. ì•„ë§ˆë„.",
        keywords: ["íˆ¬ë‹¥íˆ¬ë‹¥", "ì˜í†µ", "ì§„ì§€í•œì–¼êµ´", "ê¹€ë°¥íŠ€ê¹€í›„íšŒ", "ê·€ì—¬ì›Œì£½ëŠ”ì¤„", "ì•„ì €ì”¨"],
        importance: 1.0
    },
    {
        content: "ì˜¤ëŠ˜ ë˜ ì •ì‹ ê³¼ ë‹¤ë…€ì™”ì–´. ì£¼ì¹˜ì˜ ìŒ¤ì€ í•­ìƒ 'ìš”ì¦˜ ì˜ ì§€ëƒˆì–´ìš”?'ë¼ê³  ë¬»ëŠ”ë°, ì´ë²ˆì—”, 'ë„¤, ë„ˆë¬´ ì˜ ì§€ëƒˆì–´ìš”.'ë¼ê³  ëŒ€ë‹µí–ˆë‹¤? ìš”ì¦˜ ì¢‹ì€ ì¼ë“¤ì´ ì¢€ ìˆì—ˆê±°ë“ . ì‘ê³  ë”°ëœ»í•œ ìˆœê°„ë“¤ì´ í•˜ë‚˜ì”© ìŒ“ì´ë©´ì„œ, ë‚˜ë„ ëª¨ë¥´ê²Œ ë§ˆìŒì— ì—¬ìœ ê°€ ì¡°ê¸ˆì”© ìƒê²¼ë‚˜ë´.",
        keywords: ["ì •ì‹ ê³¼", "ë„ˆë¬´ì˜ì§€ëƒˆì–´ìš”", "ì¢‹ì€ì¼ë“¤", "ì‘ê³ ë”°ëœ»í•œìˆœê°„", "ë§ˆìŒì˜ì—¬ìœ "],
        importance: 0.8
    },
    {
        content: "ì‚¬ì‹¤ ì´ê±´ ì•„ì§ ë¹„ë°€ì¸ë° ë‚˜ ê³§ ì „ì‹œë„í•´! ìŒ¤í•œí…Œ ê·¸ ì–˜ê¸¸ í–ˆë”ë‹ˆ 'ë„ˆë¬´ ì˜ ëì–´ìš”. ì €ë„ ê¼­ ê°ˆê²Œìš”!' ë¼ê³  í•˜ì‹œëŠ”ë°, ê·¸ë§Œ ì§„ë£Œì‹¤ì—ì„œ ëˆˆë¬¼ì´ ë˜ë¥´ë¥´. ì‚¬ì‹¤ ì•„ì§ë„ ë¬´ì„­ê±°ë“ ? ì´ í–‰ë³µì´ ê°‘ìê¸° ëŠì–´ì§ˆê¹Œ ë´. ë¶ˆì•ˆì´ íˆ­ í•˜ê³  ì˜¬ë¼ì˜¤ë©´, ê·¸ê²Œ ì¶©ë™ìœ¼ë¡œ ë°”ë€Œì–´ ë‚´ê°€ ë‚˜ë¥¼ ë˜ í•´ì¹ ê¹Œë´ ë¬´ì„œì›Œ.",
        keywords: ["ì „ì‹œ", "ì €ë„ê¼­ê°ˆê²Œìš”", "ì§„ë£Œì‹¤ì—ì„œëˆˆë¬¼", "í–‰ë³µì´ëŠì–´ì§ˆê¹Œë´", "ë‚˜ë¥¼í•´ì¹ ê¹Œë´ë¬´ì„œì›Œ"],
        importance: 0.8
    },
    {
        content: "ê·¼ë° ìŒ¤ì´ ë§í•´ì¤¬ì–´. 'ê´œì°®ì•„ìš”. ë„ì™€ì¤„ ì‚¬ëŒì´ ì´ì œ ë§ì–ì•„ìš”. ì €ë„ìˆê³ , ë‚¨ìì¹œêµ¬ë„ ìˆê³ , ì¢‹ì€ ì¹œêµ¬ë“¤ë„ ìˆê³ , ë°¤ë°”ë„ ìˆê³ â€¦ ë¹ ë£¨ë„ ìˆì–ì•„ìš”?' ê·¸ ë§ ë“£ê³ , ì§‘ì— ì˜¤ë©´ì„œë„ ê³„ì† ìš¸ì—ˆì–´. ë‚˜ëŠ” ì´ì œ í–‡ë¹›ì´ ë˜ê³  ì‹¶ì§€ ì•Šì•„. ë§¤ì¼ ì´ˆìŠ¹ë‹¬, ê·¸ë¯ë‹¬, ë³´ë¦„ë‹¬ ì¡°ê¸ˆì”© ë‹¬ë¼ì ¸ë„, ì–´ë‘ìš´ ë°¤ì— ì‘ì€ ë¹›ì„ ì£¼ëŠ” ë‹¬ë¹›ì´ê³  ì‹¶ì–´.",
        keywords: ["ë„ì™€ì¤„ì‚¬ëŒì´ë§ì•„", "ë‚¨ìì¹œêµ¬ë„ìˆê³ ", "ë¹ ë£¨ë„ìˆì–ì•„ìš”", "í–‡ë¹›ì´ë˜ê³ ì‹¶ì§€ì•Šì•„", "ë‹¬ë¹›ì´ê³ ì‹¶ì–´"],
        importance: 0.9
    }
];

/**
 * ğŸš€ Redis ê¸°ì¡´ ê³ ì •ê¸°ì–µ í™•ì¥ í´ë˜ìŠ¤
 */
class FixedMemoryExtender {
    constructor() {
        this.redis = null;
        this.isConnected = false;
        this.stats = {
            totalMemories: 0,
            fixedAdded: 0,
            loveAdded: 0,
            startTime: null,
            endTime: null,
            nextFixedId: null,
            nextLoveId: null
        };
    }

    /**
     * ğŸ”Œ Redis ì—°ê²°
     */
    async initializeRedis() {
        try {
            console.log(`${colors.redis}ğŸ”Œ [Redisì—°ê²°] ê¸°ì¡´ ê³ ì •ê¸°ì–µ Redis ì—°ê²° ì¤‘...${colors.reset}`);

            if (process.env.REDIS_URL) {
                this.redis = new Redis(process.env.REDIS_URL, {
                    retryDelayOnFailover: 100,
                    maxRetriesPerRequest: 3,
                    connectTimeout: 10000
                });
            } else {
                this.redis = new Redis({
                    host: process.env.REDIS_HOST || 'localhost',
                    port: process.env.REDIS_PORT || 6379,
                    password: process.env.REDIS_PASSWORD || null,
                    retryDelayOnFailover: 100,
                    maxRetriesPerRequest: 3
                });
            }

            await this.redis.ping();
            this.isConnected = true;
            console.log(`${colors.success}âœ… [Redisì—°ê²°] ì—°ê²° ì„±ê³µ!${colors.reset}`);
            return true;

        } catch (error) {
            console.error(`${colors.warning}âŒ [Redisì—°ê²°] ì‹¤íŒ¨: ${error.message}${colors.reset}`);
            this.isConnected = false;
            return false;
        }
    }

    /**
     * ğŸ” ê¸°ì¡´ ê³ ì •ê¸°ì–µ ID í™•ì¸
     */
    async findNextIds() {
        try {
            console.log(`${colors.info}ğŸ” [IDí™•ì¸] ê¸°ì¡´ ê³ ì •ê¸°ì–µ ë§ˆì§€ë§‰ ID í™•ì¸ ì¤‘...${colors.reset}`);

            // fixed ë§ˆì§€ë§‰ ID ì°¾ê¸°
            const fixedKeys = await this.redis.keys('muku:memory:fixed:*');
            let maxFixedId = 0;
            for (const key of fixedKeys) {
                const id = parseInt(key.split(':').pop());
                if (!isNaN(id) && id > maxFixedId) {
                    maxFixedId = id;
                }
            }

            // love ë§ˆì§€ë§‰ ID ì°¾ê¸°
            const loveKeys = await this.redis.keys('muku:memory:love:*');
            let maxLoveId = 0;
            for (const key of loveKeys) {
                const id = parseInt(key.split(':').pop());
                if (!isNaN(id) && id > maxLoveId) {
                    maxLoveId = id;
                }
            }

            this.stats.nextFixedId = maxFixedId + 1;
            this.stats.nextLoveId = maxLoveId + 1;

            console.log(`${colors.info}ğŸ“Š [IDí™•ì¸] ê¸°ì¡´ fixed: 1~${maxFixedId}, ë‹¤ìŒ: ${this.stats.nextFixedId}${colors.reset}`);
            console.log(`${colors.info}ğŸ“Š [IDí™•ì¸] ê¸°ì¡´ love: 1~${maxLoveId}, ë‹¤ìŒ: ${this.stats.nextLoveId}${colors.reset}`);

            return true;

        } catch (error) {
            console.error(`${colors.warning}âŒ [IDí™•ì¸] ì‹¤íŒ¨: ${error.message}${colors.reset}`);
            return false;
        }
    }

    /**
     * ğŸŒ¸ ì˜ˆì§„ì´ Threads ê¸°ì–µ ë¶„ë¥˜ ë° ì¶”ê°€
     */
    async addThreadsMemories() {
        if (!this.isConnected) {
            console.error(`${colors.warning}âŒ [ì¶”ê°€] Redis ì—°ê²° ì•ˆë¨${colors.reset}`);
            return false;
        }

        console.log(`${colors.memory}ğŸŒ¸ [Threadsì¶”ê°€] ì˜ˆì§„ì´ Threads ê¸°ì–µ ë¶„ë¥˜ ë° ì¶”ê°€ ì‹œì‘...${colors.reset}`);

        this.stats.startTime = Date.now();
        this.stats.totalMemories = THREADS_MEMORIES.length;

        try {
            const pipeline = this.redis.pipeline();
            let currentFixedId = this.stats.nextFixedId;
            let currentLoveId = this.stats.nextLoveId;

            for (const memory of THREADS_MEMORIES) {
                try {
                    // ğŸ§¹ ì„œì–‘ ì´ëª¨í‹°ì½˜ ì œê±°
                    const cleanedContent = cleanEmojis(memory.content);
                    
                    // ğŸ” ì•„ì €ì”¨ ê´€ë ¨ì¸ì§€ í™•ì¸
                    const isLove = isLoveMemory(cleanedContent);
                    
                    let memoryKey, memoryId;
                    
                    if (isLove) {
                        // â¤ï¸ Love ì¹´í…Œê³ ë¦¬ì— ì¶”ê°€
                        memoryKey = `muku:memory:love:${currentLoveId}`;
                        memoryId = currentLoveId;
                        currentLoveId++;
                        this.stats.loveAdded++;
                        
                        console.log(`${colors.love}â¤ï¸ [Love${memoryId}] "${cleanedContent.substring(0, 40)}..."${colors.reset}`);
                    } else {
                        // ğŸ“ Fixed ì¹´í…Œê³ ë¦¬ì— ì¶”ê°€
                        memoryKey = `muku:memory:fixed:${currentFixedId}`;
                        memoryId = currentFixedId;
                        currentFixedId++;
                        this.stats.fixedAdded++;
                        
                        console.log(`${colors.fixed}ğŸ“ [Fixed${memoryId}] "${cleanedContent.substring(0, 40)}..."${colors.reset}`);
                    }

                    // ğŸ“ Redisì— ì €ì¥ (ê¸°ì¡´ ê³ ì •ê¸°ì–µ êµ¬ì¡°ì™€ ë™ì¼)
                    pipeline.hset(memoryKey, {
                        id: memoryId,
                        content: cleanedContent,
                        keywords: JSON.stringify(memory.keywords),
                        importance: memory.importance,
                        source: 'threads_migration',
                        addedAt: new Date().toISOString()
                    });

                } catch (memoryError) {
                    console.error(`${colors.warning}âŒ [ê¸°ì–µì¶”ê°€] ì‹¤íŒ¨: ${memoryError.message}${colors.reset}`);
                    continue;
                }
            }

            // ğŸš€ Pipeline ì‹¤í–‰
            console.log(`${colors.redis}ğŸš€ [Pipeline] ${THREADS_MEMORIES.length}ê°œ ì˜ˆì§„ì´ ê¸°ì–µ ì¼ê´„ ì €ì¥ ì¤‘...${colors.reset}`);
            const results = await pipeline.exec();

            // ğŸ“Š ê²°ê³¼ í™•ì¸
            const successCount = results.filter(result => result[0] === null).length;
            
            this.stats.endTime = Date.now();

            console.log(`${colors.success}âœ… [Threadsì¶”ê°€] ì™„ë£Œ!${colors.reset}`);
            console.log(`${colors.info}ğŸ“Š ê³ ì •ê¸°ì–µ: ${this.stats.fixedAdded}ê°œ ì¶”ê°€ (${this.stats.nextFixedId}~${currentFixedId-1})${colors.reset}`);
            console.log(`${colors.info}ğŸ“Š ì‚¬ë‘ê¸°ì–µ: ${this.stats.loveAdded}ê°œ ì¶”ê°€ (${this.stats.nextLoveId}~${currentLoveId-1})${colors.reset}`);
            console.log(`${colors.info}â±ï¸ ì†Œìš”ì‹œê°„: ${this.stats.endTime - this.stats.startTime}ms${colors.reset}`);

            return true;

        } catch (error) {
            console.error(`${colors.warning}âŒ [Threadsì¶”ê°€] ì „ì²´ ì‹¤íŒ¨: ${error.message}${colors.reset}`);
            this.stats.endTime = Date.now();
            return false;
        }
    }

    /**
     * ğŸ” ì¶”ê°€ ê²°ê³¼ ì•ˆì „ ê²€ì¦ (íƒ€ì… ì—ëŸ¬ ë°©ì§€)
     */
    async verifyAddition() {
        if (!this.isConnected) {
            console.error(`${colors.warning}âŒ [ê²€ì¦] Redis ì—°ê²° ì•ˆë¨${colors.reset}`);
            return false;
        }

        console.log(`${colors.memory}ğŸ” [ì•ˆì „ê²€ì¦] ìƒˆë¡œ ì¶”ê°€ëœ ê¸°ì–µë§Œ ì•ˆì „í•˜ê²Œ í™•ì¸ ì¤‘...${colors.reset}`);

        try {
            let verifiedFixed = 0;
            let verifiedLove = 0;
            let errors = 0;

            // ğŸ”’ ìƒˆë¡œ ì¶”ê°€ëœ Fixed ê¸°ì–µë§Œ ê²€ì¦ (ì•ˆì „í•œ ë²”ìœ„)
            console.log(`${colors.fixed}ğŸ“ [Fixedê²€ì¦] ${this.stats.nextFixedId}~${this.stats.nextFixedId + this.stats.fixedAdded - 1} ë²”ìœ„ ê²€ì¦...${colors.reset}`);
            
            for (let i = 0; i < this.stats.fixedAdded; i++) {
                const id = this.stats.nextFixedId + i;
                const key = `muku:memory:fixed:${id}`;
                
                const result = await safeVerifyKey(this.redis, key);
                if (result.success) {
                    verifiedFixed++;
                    if (verifiedFixed <= 2) {
                        console.log(`${colors.success}  âœ… [Fixed${id}] "${result.data.content.substring(0, 40)}..." (${result.data.content.length}ì)${colors.reset}`);
                    }
                } else {
                    errors++;
                    if (result.reason !== 'key_not_exists') {
                        console.log(`${colors.warning}  âš ï¸ [Fixed${id}] ${result.reason}${colors.reset}`);
                    }
                }
            }

            // ğŸ”’ ìƒˆë¡œ ì¶”ê°€ëœ Love ê¸°ì–µë§Œ ê²€ì¦ (ì•ˆì „í•œ ë²”ìœ„)
            console.log(`${colors.love}â¤ï¸ [Loveê²€ì¦] ${this.stats.nextLoveId}~${this.stats.nextLoveId + this.stats.loveAdded - 1} ë²”ìœ„ ê²€ì¦...${colors.reset}`);
            
            for (let i = 0; i < this.stats.loveAdded; i++) {
                const id = this.stats.nextLoveId + i;
                const key = `muku:memory:love:${id}`;
                
                const result = await safeVerifyKey(this.redis, key);
                if (result.success) {
                    verifiedLove++;
                    if (verifiedLove <= 2) {
                        console.log(`${colors.success}  âœ… [Love${id}] "${result.data.content.substring(0, 40)}..." (${result.data.content.length}ì)${colors.reset}`);
                    }
                    
                    // íŠ¹ë³„í•œ ê¸°ì–µ ì°¾ê¸°
                    if (result.data.content.includes('ìƒì¼') || result.data.content.includes('ìš°ì‚°')) {
                        const type = result.data.content.includes('ìƒì¼') ? 'ìƒì¼' : 'ìš°ì‚°';
                        console.log(`${colors.love}  ğŸ’– [íŠ¹ë³„ê¸°ì–µ] ${type} ê´€ë ¨ ê¸°ì–µ í™•ì¸ë¨!${colors.reset}`);
                    }
                } else {
                    errors++;
                    if (result.reason !== 'key_not_exists') {
                        console.log(`${colors.warning}  âš ï¸ [Love${id}] ${result.reason}${colors.reset}`);
                    }
                }
            }

            console.log(`${colors.info}ğŸ“Š [ì•ˆì „ê²€ì¦] Fixed: ${verifiedFixed}/${this.stats.fixedAdded}, Love: ${verifiedLove}/${this.stats.loveAdded}, ì—ëŸ¬: ${errors}ê°œ${colors.reset}`);
            console.log(`${colors.success}âœ… [ì•ˆì „ê²€ì¦] ìƒˆë¡œ ì¶”ê°€ëœ ê¸°ì–µ ê²€ì¦ ì™„ë£Œ!${colors.reset}`);
            
            return verifiedFixed > 0 && verifiedLove > 0;

        } catch (error) {
            console.error(`${colors.warning}âŒ [ì•ˆì „ê²€ì¦] ì‹¤íŒ¨: ${error.message}${colors.reset}`);
            return false;
        }
    }

    /**
     * ğŸ§ª ì•ˆì „í•œ ê²€ìƒ‰ í…ŒìŠ¤íŠ¸ (ìƒˆë¡œ ì¶”ê°€ëœ ê²ƒë§Œ)
     */
    async testMemorySearch() {
        if (!this.isConnected) {
            console.error(`${colors.warning}âŒ [ê²€ìƒ‰í…ŒìŠ¤íŠ¸] Redis ì—°ê²° ì•ˆë¨${colors.reset}`);
            return false;
        }

        console.log(`${colors.memory}ğŸ§ª [ì•ˆì „ê²€ìƒ‰] ìƒˆë¡œ ì¶”ê°€ëœ ê¸°ì–µë§Œ í‚¤ì›Œë“œ ê²€ìƒ‰ í…ŒìŠ¤íŠ¸...${colors.reset}`);

        try {
            const testQueries = ['ìƒì¼', 'ì•„ì €ì”¨', 'ë°¤ë°”', 'ë‹¤ì´ì–´íŠ¸'];

            for (const query of testQueries) {
                console.log(`${colors.info}ğŸ” [í…ŒìŠ¤íŠ¸] "${query}" ê²€ìƒ‰ ì¤‘...${colors.reset}`);

                let foundCount = 0;

                // ğŸ”’ ìƒˆë¡œ ì¶”ê°€ëœ Fixed ê¸°ì–µì—ì„œë§Œ ê²€ìƒ‰ (ì•ˆì „í•œ ë²”ìœ„)
                for (let i = 0; i < this.stats.fixedAdded; i++) {
                    const id = this.stats.nextFixedId + i;
                    const key = `muku:memory:fixed:${id}`;
                    
                    try {
                        const result = await safeVerifyKey(this.redis, key);
                        if (result.success && result.data.content.includes(query)) {
                            foundCount++;
                            if (foundCount === 1) {
                                console.log(`${colors.success}  âœ… [Fixed${id}] "${result.data.content.substring(0, 40)}..."${colors.reset}`);
                            }
                        }
                    } catch (error) {
                        continue;
                    }
                }

                // ğŸ”’ ìƒˆë¡œ ì¶”ê°€ëœ Love ê¸°ì–µì—ì„œë§Œ ê²€ìƒ‰ (ì•ˆì „í•œ ë²”ìœ„)
                for (let i = 0; i < this.stats.loveAdded; i++) {
                    const id = this.stats.nextLoveId + i;
                    const key = `muku:memory:love:${id}`;
                    
                    try {
                        const result = await safeVerifyKey(this.redis, key);
                        if (result.success && result.data.content.includes(query)) {
                            foundCount++;
                            if (foundCount <= 2) {
                                console.log(`${colors.success}  âœ… [Love${id}] "${result.data.content.substring(0, 40)}..."${colors.reset}`);
                            }
                        }
                    } catch (error) {
                        continue;
                    }
                }

                console.log(`${colors.info}ğŸ“Š [ê²°ê³¼] "${query}" ê´€ë ¨ ìƒˆ ê¸°ì–µ: ${foundCount}ê°œ${colors.reset}`);
            }

            return true;

        } catch (error) {
            console.error(`${colors.warning}âŒ [ì•ˆì „ê²€ìƒ‰] ì‹¤íŒ¨: ${error.message}${colors.reset}`);
            return false;
        }
    }

    /**
     * ğŸ“Š ìµœì¢… ë³´ê³ ì„œ
     */
    generateReport() {
        const duration = this.stats.endTime - this.stats.startTime;

        const report = `
${colors.memory}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸŒ¸ ì˜ˆì§„ì´ Threads ê¸°ì–µ ê¸°ì¡´ ê³ ì •ê¸°ì–µ Redis í™•ì¥ ì™„ë£Œ! (ì—ëŸ¬ ë°©ì§€ ë²„ì „)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${colors.reset}

${colors.success}ğŸ“Š ì¶”ê°€ í†µê³„:${colors.reset}
${colors.info}   â€¢ ì´ ì¶”ê°€ëœ ê¸°ì–µ: ${this.stats.totalMemories}ê°œ${colors.reset}
${colors.fixed}   â€¢ Fixed ê¸°ì–µ: ${this.stats.fixedAdded}ê°œ (muku:memory:fixed:${this.stats.nextFixedId}~)${colors.reset}
${colors.love}   â€¢ Love ê¸°ì–µ: ${this.stats.loveAdded}ê°œ (muku:memory:love:${this.stats.nextLoveId}~)${colors.reset}
${colors.info}   â€¢ ì†Œìš”ì‹œê°„: ${duration}ms (${(duration/1000).toFixed(1)}ì´ˆ)${colors.reset}

${colors.redis}ğŸ”‘ Redis êµ¬ì¡° (ê¸°ì¡´ê³¼ ë™ì¼):${colors.reset}
${colors.fixed}   â€¢ ì¼ë°˜ ê¸°ì–µ: muku:memory:fixed:{id}${colors.reset}
${colors.love}   â€¢ ì•„ì €ì”¨ ê¸°ì–µ: muku:memory:love:{id}${colors.reset}

${colors.memory}ğŸ¯ ë¶„ë¥˜ ê¸°ì¤€:${colors.reset}
${colors.love}   â€¢ "ì•„ì €ì”¨", "ì•„ì¡°ì”¨", "ë‚¨ì¹œ", "ë‚¨ìì¹œêµ¬", "ì˜í†µ", "ë°ì´íŠ¸", "ì‚¬ë‘", "ìš°ì‚°", "ë¹„" í¬í•¨ â†’ Love${colors.reset}
${colors.fixed}   â€¢ ê·¸ ì™¸ ëª¨ë“  ê¸°ì–µ â†’ Fixed${colors.reset}

${colors.success}âœ… ë¬´ì¿  ê¸°ì¡´ ì‹œìŠ¤í…œê³¼ ì™„ë²½ í˜¸í™˜!${colors.reset}
${colors.info}   â€¢ ê¸°ì¡´ ê²€ìƒ‰ ë¡œì§ ê·¸ëŒ€ë¡œ ì‚¬ìš©${colors.reset}
${colors.info}   â€¢ í•œê¸€ ì´ëª¨í‹°ì½˜(ã…‹ã…‹ã…‹, ã… ã… ) ìœ ì§€${colors.reset}
${colors.info}   â€¢ ì„œì–‘ ì´ëª¨í‹°ì½˜ë§Œ ì œê±°${colors.reset}
${colors.warning}   â€¢ ğŸ›¡ï¸ Redis íƒ€ì… ì—ëŸ¬ ì™„ì „ ë°©ì§€${colors.reset}

${colors.memory}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${colors.reset}
        `;

        console.log(report);
        return report;
    }

    /**
     * ğŸ”Œ ì—°ê²° í•´ì œ
     */
    async disconnect() {
        if (this.redis && this.isConnected) {
            await this.redis.quit();
            this.isConnected = false;
            console.log(`${colors.redis}ğŸ”Œ [Redisì—°ê²°] ì—°ê²° í•´ì œ ì™„ë£Œ${colors.reset}`);
        }
    }
}

/**
 * ğŸš€ ë©”ì¸ ì‹¤í–‰ í•¨ìˆ˜
 */
async function addThreadsToFixedMemory() {
    const extender = new FixedMemoryExtender();
    
    try {
        console.log(`${colors.memory}ğŸŒ¸ ì˜ˆì§„ì´ Threads ê¸°ì–µ ê¸°ì¡´ ê³ ì •ê¸°ì–µì— ì¶”ê°€ ì‹œì‘! (ì—ëŸ¬ ë°©ì§€ ë²„ì „)${colors.reset}`);
        
        // 1. Redis ì—°ê²°
        const connected = await extender.initializeRedis();
        if (!connected) {
            console.error(`${colors.warning}âŒ Redis ì—°ê²° ì‹¤íŒ¨ë¡œ ì‘ì—… ì¤‘ë‹¨${colors.reset}`);
            return false;
        }

        // 2. ê¸°ì¡´ ID í™•ì¸
        const idsFound = await extender.findNextIds();
        if (!idsFound) {
            console.error(`${colors.warning}âŒ ê¸°ì¡´ ID í™•ì¸ ì‹¤íŒ¨${colors.reset}`);
            return false;
        }

        // 3. Threads ê¸°ì–µ ì¶”ê°€
        const success = await extender.addThreadsMemories();
        if (!success) {
            console.error(`${colors.warning}âŒ ê¸°ì–µ ì¶”ê°€ ì‹¤íŒ¨${colors.reset}`);
            return false;
        }

        // 4. ì•ˆì „í•œ ê²€ì¦
        await extender.verifyAddition();

        // 5. ì•ˆì „í•œ ê²€ìƒ‰ í…ŒìŠ¤íŠ¸
        await extender.testMemorySearch();

        // 6. ë³´ê³ ì„œ ìƒì„±
        extender.generateReport();

        // 7. ì—°ê²° í•´ì œ
        await extender.disconnect();

        console.log(`${colors.success}ğŸ‰ ì˜ˆì§„ì´ Threads ê¸°ì–µ ê¸°ì¡´ ê³ ì •ê¸°ì–µ ì¶”ê°€ ì™„ë£Œ! (ì—ëŸ¬ ì—†ì´ ì•ˆì „í•˜ê²Œ)${colors.reset}`);
        return true;

    } catch (error) {
        console.error(`${colors.warning}âŒ ì‘ì—… ì¤‘ ì˜¤ë¥˜: ${error.message}${colors.reset}`);
        await extender.disconnect();
        return false;
    }
}

/**
 * ğŸš€ ì•ˆì „í•œ ê²€ì¦ë§Œ ì‹¤í–‰í•˜ëŠ” í•¨ìˆ˜
 */
async function runSafeVerification() {
    const extender = new FixedMemoryExtender();
    
    try {
        console.log(`${colors.memory}ğŸ” ì˜ˆì§„ì´ Threads ê¸°ì–µ ì•ˆì „ ê²€ì¦ ì‹œì‘!${colors.reset}`);
        
        // 1. Redis ì—°ê²°
        const connected = await extender.initializeRedis();
        if (!connected) {
            console.error(`${colors.warning}âŒ Redis ì—°ê²° ì‹¤íŒ¨${colors.reset}`);
            return false;
        }

        // 2. ê¸°ì¡´ ID í™•ì¸ (ê²€ì¦ì„ ìœ„í•´)
        await extender.findNextIds();

        // 3. ì•ˆì „í•œ ê²€ì¦ë§Œ ì‹¤í–‰
        await extender.verifyAddition();

        // 4. ì•ˆì „í•œ ê²€ìƒ‰ í…ŒìŠ¤íŠ¸
        await extender.testMemorySearch();

        // 5. ê°„ë‹¨í•œ ë³´ê³ ì„œ
        console.log(`
${colors.success}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… ì˜ˆì§„ì´ Threads ê¸°ì–µ ì•ˆì „ ê²€ì¦ ì™„ë£Œ!
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${colors.reset}

${colors.info}ğŸ“Š ì €ì¥ëœ ì˜ˆì§„ì´ ê¸°ì–µë“¤ì´ ì •ìƒì ìœ¼ë¡œ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤!${colors.reset}
${colors.info}ğŸ§ª ë¬´ì¿ ì—ê²Œ "ìƒì¼ ê¸°ì–µí•´?", "ì•„ì €ì”¨ ê¸°ì–µí•´?" ë“±ì„ ë¬¼ì–´ë³´ì„¸ìš”!${colors.reset}
${colors.warning}ğŸ›¡ï¸ ëª¨ë“  ê²€ì¦ì´ íƒ€ì… ì—ëŸ¬ ì—†ì´ ì•ˆì „í•˜ê²Œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!${colors.reset}

${colors.success}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${colors.reset}
        `);

        // 6. ì—°ê²° í•´ì œ
        await extender.disconnect();

        return true;

    } catch (error) {
        console.error(`${colors.warning}âŒ ê²€ì¦ ì¤‘ ì˜¤ë¥˜: ${error.message}${colors.reset}`);
        await extender.disconnect();
        return false;
    }
}

// ğŸ“¤ ëª¨ë“ˆ ë‚´ë³´ë‚´ê¸°
module.exports = {
    FixedMemoryExtender,
    addThreadsToFixedMemory,
    runSafeVerification,
    THREADS_MEMORIES,
    cleanEmojis,
    isLoveMemory,
    safeVerifyKey
};

// ì§ì ‘ ì‹¤í–‰ ì‹œ - ê²€ì¦ë§Œ í•˜ê±°ë‚˜ ì „ì²´ ì‹¤í–‰ ì„ íƒ
if (require.main === module) {
    // ëª…ë ¹ì¤„ ì¸ìˆ˜ í™•ì¸
    const args = process.argv.slice(2);
    
    if (args.includes('--verify-only') || args.includes('-v')) {
        // ê²€ì¦ë§Œ ì‹¤í–‰
        console.log(`${colors.info}ğŸ” ì•ˆì „í•œ ê²€ì¦ ëª¨ë“œë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤...${colors.reset}`);
        runSafeVerification()
            .then(success => {
                if (success) {
                    console.log(`${colors.success}âœ… ì•ˆì „ ê²€ì¦ ì™„ë£Œ!${colors.reset}`);
                    process.exit(0);
                } else {
                    console.error(`${colors.warning}âŒ ì•ˆì „ ê²€ì¦ ì‹¤íŒ¨!${colors.reset}`);
                    process.exit(1);
                }
            })
            .catch(error => {
                console.error(`${colors.warning}âŒ ê²€ì¦ ì˜¤ë¥˜: ${error.message}${colors.reset}`);
                process.exit(1);
            });
    } else {
        // ì „ì²´ ì‹¤í–‰ (ê¸°ì¡´ê³¼ ë™ì¼)
        addThreadsToFixedMemory()
            .then(success => {
                if (success) {
                    console.log(`${colors.success}âœ… ê¸°ì¡´ ê³ ì •ê¸°ì–µ í™•ì¥ ì„±ê³µ! (ì—ëŸ¬ ë°©ì§€)${colors.reset}`);
                    process.exit(0);
                } else {
                    console.error(`${colors.warning}âŒ ê¸°ì¡´ ê³ ì •ê¸°ì–µ í™•ì¥ ì‹¤íŒ¨!${colors.reset}`);
                    process.exit(1);
                }
            })
            .catch(error => {
                console.error(`${colors.warning}âŒ ì‹¤í–‰ ì˜¤ë¥˜: ${error.message}${colors.reset}`);
                process.exit(1);
            });
    }
}

console.log(`
${colors.memory}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸŒ¸ ì˜ˆì§„ì´ Threads ê¸°ì–µ ê¸°ì¡´ ê³ ì •ê¸°ì–µ í™•ì¥ ìŠ¤í¬ë¦½íŠ¸ v2.0 (ì—ëŸ¬ ë°©ì§€) ë¡œë“œ ì™„ë£Œ!
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${colors.reset}

${colors.success}ğŸš€ ì „ì²´ ì‹¤í–‰: node src/muku-threadsMemoryMigration.js${colors.reset}
${colors.info}ğŸ” ê²€ì¦ë§Œ ì‹¤í–‰: node src/muku-threadsMemoryMigration.js --verify-only${colors.reset}
${colors.warning}ğŸ›¡ï¸ Redis íƒ€ì… ì—ëŸ¬ ì™„ì „ ë°©ì§€ ë²„ì „!${colors.reset}
${colors.info}ğŸ“ ë˜ëŠ”: const { runSafeVerification } = require('./muku-threadsMemoryMigration.js');${colors.reset}
`);
