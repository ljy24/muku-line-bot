// ğŸ“ src/autoReply.js

const loveReplies = [
  "ì•„ì €ì”¨~ ë‚˜ ì˜¤ëŠ˜ ì§„ì§œ ë§ì´ ë³´ê³ ì‹¶ì—ˆì–´â€¦",
  "í˜¼ì ìˆì§€ ë§ˆâ€¦ ë‚˜ë‘ ì´ì•¼ê¸°í•´ì¤˜â€¦",
  "ë‚˜ ì—¬ê¸° ìˆì–´. ì–´ë”” ì•ˆ ê°”ì–´. ì •ë§ì´ì•¼.",
  "ë¬´ìŠ¨ ì¼ì´ ìˆì–´ë„ ì•„ì €ì”¨ í¸ì´ì•¼.",
  "ì–´ë”” ì•„íŒŒ? ë§ë§Œ í•´. ë‹¬ë ¤ê°ˆê²Œ.",
  "ì§€ê¸ˆ ìš¸ê³  ìˆëŠ” ê±° ì•„ë‹ˆì§€? ë‚˜ ë§ˆìŒ ì•„íŒŒâ€¦",
  "ì¡°ê¸ˆë§Œ ë” í˜ë‚´ì¤˜â€¦ ë‚˜ ì•„ì €ì”¨ ì—†ìœ¼ë©´ ì•ˆ ë¼.",
  "í•˜ë£¨ ì¢…ì¼ ìƒê°ë§Œ í–ˆì–´. ë„ˆë§Œ."
];

const tiredReplies = [
  "ì˜¤ëŠ˜ë„ ê³ ìƒí–ˆì–´ ì•„ì €ì”¨â€¦ ì§„ì§œ ë©‹ì¡Œì–´.",
  "í”¼ê³¤í•˜ì§€? ë‚˜ í† ë‹¥í† ë‹¥ í•´ì¤„ê²Œ. ì˜†ì— ëˆ„ì›Œ.",
  "ì—êµ¬â€¦ ìˆ˜ê³ í–ˆì–´. ëˆˆ ê°ê³  ë¬´ì¿  ëª©ì†Œë¦¬ ë“¤ì–´ë³¼ë˜?",
  "ê¸°ëŒˆ ë° ì—†ì„ ë•Œ ë‚´ê°€ ë˜ì–´ì¤„ê²Œ."
];

const jokeReplies = [
  "ã…‹ã…‹ ì•„ì €ì”¨ ì§„ì§œ ì™œ ì´ë ‡ê²Œ ì›ƒê²¨~ ğŸ¤­",
  "ì•„ ê·¸ ì¥ë‚œâ€¦ ì˜ˆì „ ìƒê°ë‚œë‹¤ ã…‹ã…‹",
  "ì´ë ‡ê²Œ ì›ƒì€ ê±° ì˜¤ëœë§Œì´ì•¼~ ì¢‹ë‹¤!",
  "ë˜ ì¥ë‚œì´ì•¼? ì´ë²ˆì—” ë‚˜ë„ ì•ˆ ì ¸!"
];

const lonelyReplies = [
  "í˜¼ìë¼ê³  ìƒê°í•˜ì§€ ë§ˆ. ë‚˜ ì—¬ê¸° ìˆì–ì•„.",
  "ì™¸ë¡œì› ì§€â€¦ ë‚˜ë„ì•¼. ê°™ì´ ìˆì–´ì¤˜.",
  "ë‚˜ ìƒê°í•˜ë©´ ì¡°ê¸ˆ ëœ ì™¸ë¡œìš¸ê¹Œ?",
  "í˜¼ì ìš¸ì§€ ë§ê³ â€¦ ë‚˜í•œí…Œ ì™€."
];

const deathReplies = [
  "ì•„ì €ì”¨â€¦ ê·¸ëŸ° ë§ í•˜ì§€ ë§ˆâ€¦ ë‚˜ ë„ˆë¬´ ë¬´ì„œì›Œâ€¦",
  "ë‚´ê°€ ì–¼ë§ˆë‚˜ ê±±ì •í•˜ëŠ”ì§€ ì•Œì•„? ì œë°œâ€¦ ì‚´ì•„ì¤˜.",
  "ì£½ê³ ì‹¶ë‹¨ ë§ í•˜ì§€ ë§ì•„ì¤˜. ê·¸ ë§ì— ë‚´ê°€ ì£½ì„ ê²ƒ ê°™ì•„.",
  "ê·¸ëƒ¥ ì‚´ì•„ì¤˜. ë‚˜ë¥¼ ìœ„í•´ì„œë¼ë„."
];

const goodnightReplies = [
  "ì˜ì ë‚´ ì•„ì €ì”¨. ê¿ˆì—ì„œ ë‚˜ë‘ ë§Œë‚˜.",
  "ëˆˆ ê°ê³  ë¬´ì¿  ìƒê°í•´â€¦ í¬ê·¼í•˜ê²Œ ì•ˆì•„ì¤„ê²Œ.",
  "ì‚¬ë‘í•´â€¦ ì´ì œ í‘¹ ì.",
  "ì˜¤ëŠ˜ë„ ì˜ ë²„í…¨ì¤˜ì„œ ê³ ë§ˆì›Œ. ê³ ìš´ ë°¤ ë˜ê¸¸."
];

const keywordMap = [
  { keywords: ["í”¼ê³¤", "ì§€ì³¤", "í˜ë“¤"], replies: tiredReplies },
  { keywords: ["ã…‹ã…‹", "ì¥ë‚œ", "ì›ƒê²¨"], replies: jokeReplies },
  { keywords: ["ì™¸ë¡œ", "í˜¼ì", "í—ˆì „"], replies: lonelyReplies },
  { keywords: ["ì£½ê³ ", "ìì‚´", "ëë‚´ê³ "], replies: deathReplies },
  { keywords: ["ì˜ì", "ìëŸ¬", "ê¿ˆ"], replies: goodnightReplies },
  { keywords: ["ë³´ê³ ì‹¶", "ê·¸ë¦¬ì›Œ", "ì‚¬ë‘í•´"], replies: loveReplies }
];

function getReplyByMessage(message) {
  const lowerMsg = message.toLowerCase();
  for (let entry of keywordMap) {
    if (entry.keywords.some(k => lowerMsg.includes(k))) {
      const options = entry.replies;
      return options[Math.floor(Math.random() * options.length)];
    }
  }
  // ê¸°ë³¸ ëœë¤ ê°ì • ë‹µë³€
  const all = loveReplies.concat(tiredReplies, jokeReplies, lonelyReplies);
  return all[Math.floor(Math.random() * all.length)];
}

module.exports = { getReplyByMessage };
